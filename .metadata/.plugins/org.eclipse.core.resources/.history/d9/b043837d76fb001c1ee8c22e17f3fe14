#include <stdio.h>
#include "types.h"
#include "file_names.h"
#include "utils.h"
//#include "menu.h"
//#include "valutazioni.h"
//#include "scegli_ricetta.h"
//#include "piano_settimanale.h"
#include "gestione_alimenti.h"
#include "gestione_ricette.h"

#include <string.h>
#include <ctype.h>


int main(void) {
	setvbuf(stdout, NULL, _IONBF, 0);
	clearFile(FILENAME_RICETTE);
	FILE* f;
	  if (apriFile(&f, FILENAME_RICETTE, "rb+")){
	    t_ricetta ric = {"", 1, {{"palle",2,N_UNIT,0} }, PESCE, "cuoci bene le palle", 1, 0};

	    strcpy(ric.nome,"palle bollite");
	    fwrite(&ric, sizeof(t_ricetta), 1, f);

	    strcpy(ric.nome,"palle bollite");
	    strcpy(ric.procedimento,"scotta le palle");
	    fwrite(&ric, sizeof(t_ricetta), 1, f);

	    fclose(f);
	 }



	  ordinaFileRicette_AZ(FILENAME_RICETTE);




	  t_ricetta ricette_preparabili[20];
	  int n_ricette_preparabili;
	  ricettePreparabili(ricette_preparabili, &n_ricette_preparabili, FILENAME_RICETTE);

	  //print ricette_preparabili

	  t_alimento alimenti[2];
	  t_ricetta ricette_compatibili[20];
	  int n_ricette_compatibili;
	  ricetteCompatibili(alimenti, 2, ricette_compatibili, &n_ricette_compatibili, FILENAME_RICETTE);

	  //print ricette_compatibili

	  print_ricette();


	return 0;
}





