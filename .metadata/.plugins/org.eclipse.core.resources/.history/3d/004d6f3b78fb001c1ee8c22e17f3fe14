#include "gestione_ricette.h"
#include "gestione_alimenti.h"
#include "menu_utente.h"
#include "utils.h"
#include "piano_settimanale.h"
#include "check_input.h"
#include "file_names.h"
#include "types.h"

#include <stdio.h>
#include <string.h>


int main(void) {

  //menu();
  int flag_home=0;
  int flag_errore=0;
  char str[20];
  /*
  do{
    flag_home = 0;
    flag_errore = 0;
    char str[20];
    scanf("%s", str);
    isNotNum(str, &flag_errore);
    printf("!!errore: %d\n", flag_errore);
  }while(1);*/

  //unita_misura unit  = inputUnitaMisura(&flag_errore, &flag_home);
  //printf("\n%d  errore:%d   home:%d\n", unit, flag_errore, flag_home);
  /*
  do{
    float qua  = inputFloat(&flag_errore, &flag_home);
    printf("\n%f  errore:%d   home:%d\n\n", qua, flag_errore, flag_home);
  }while(1);*/

  do{
    flag_home = 0;
    flag_errore = 0;
    t_alimento al = inputAlimento(&flag_home);
    //t_alimento al = inputAlimento(&flag_home);
    //inputStr(str,50, &flag_errore, &flag_home);

    print_alimento(al);
    printf("errore:%d   home:%d\n\n\n", flag_errore, flag_home);
  }while(1);



  // TODO: controlla se sono presenti tutti i file e creali altrimenti

  //default_piano_settimanale();

  //print_piano_settimanale();

  /*
  int flag = isNotNum("..1s...");

  printf("errore: %d\n",flag);

  t_ricetta ricetta;

  FILE* file;
  clearFile(FILENAME_RICETTE);

  if( apriFile(&file, FILENAME_RICETTE, "rb+") ){

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 0;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);
    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 0;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);
    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 0;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);
    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 0;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 0;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 1;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 2;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 2;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 5;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 5;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 2;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 2;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 2;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 0;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 0;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 1;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 4;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 3;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 3;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 3;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);

    strcpy(ricetta.nome,"lol");
    ricetta.valutazione = 3;
    fwrite(&ricetta, sizeof(t_ricetta), 1, file);


    fclose(file);
  }

  printStatistica_voti();

  //menu();

*/


  return 0;
}











/*
#include <stdio.h>
#include <string.h>
#include <ctype.h>


#include "types.h"
#include "file_names.h"
#include "utils.h"
#include "gestione_alimenti.h"
#include "gestione_ricette.h"
*/


/*FILE* f;
  if (apriFile(&f, FILENAME_ALIMENTI, "rb+")){
    t_alimento al = {"",PESO_GR,1};

    strcpy(al.nome,"marco");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"antonio");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"eva");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"troia");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"luca");
    fwrite(&al, sizeof(t_alimento), 1, f);


    strcpy(al.nome,"mauro");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"giacomo");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"Antonio");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"antonio");
    fwrite(&al, sizeof(t_alimento), 1, f);


    strcpy(al.nome,"Banana");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"banana");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"mauro");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"sdghiacomo");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"zxntonio");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"poktonio");
    fwrite(&al, sizeof(t_alimento), 1, f);


    strcpy(al.nome,"cganana");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"sdanana");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"b");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"d");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"a");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"f");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"i");
		fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"c");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"z");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"z");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"b");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"d");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"a");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"f");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"i");
		fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"d");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"a");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"f");
		fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"c");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"z");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"z");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"b");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"d");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"a");
		fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"z");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"b");
		fwrite(&al, sizeof(t_alimento), 1, f);

		strcpy(al.nome,"d");
		fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"mauro");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"sdghiacomo");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"zxntonio");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"poktonio");
    fwrite(&al, sizeof(t_alimento), 1, f);


    strcpy(al.nome,"cganana");
    fwrite(&al, sizeof(t_alimento), 1, f);

    strcpy(al.nome,"sdanana");
    fwrite(&al, sizeof(t_alimento), 1, f);


    fclose(f);
  }*/
